{
  "name": "grandMA2",
  "type": "WebSocket Client",
  "path": "Software",

  "version": "0.4.2",
  "description": "A grandMA2 module for Chataigne that utilises the Web Remote API for interaction.\nAllows sending and receiving various parameters and actions to/from grandMA2.",
  "url": "https://github.com/DJFPaul/grandMA2-Chataigne-Module",
  "downloadURL": "https://github.com/DJFPaul/grandMA2-Chataigne-Module/archive/refs/heads/main.zip",

  "hasInput": true,
  "hasOutput": true,

  "hideDefaultCommands": true,

  "defaults": {
    "protocol": "JSON",
    "serverPath": "127.0.0.1:80/?ma=1",
    "useSecureConnection": false,
    "autoAdd": false
  },

  "parameters": {
     "Session": {
      "type": "Container",
      "collapsed": false,
      "Status": {
        "type": "Boolean",
        "readOnly": true,
        "default": false
      },
      "Session ID": {
        "type": "Integer",
        "readOnly": true,
        "default": 0
      }, 
      "Start Session": {
        "type": "Trigger",
        "description": "Initiate a new Web Remote session with grandMA2 using the supplied credentials."
      },
      "End Session": {
        "type": "Trigger",
        "description": "Notify MA that this connection will no longer access the session and release the session ID."
      },
      "Credentials": {
        "type": "Container",
        "collapsed": true,
        "MA2 User": {
          "type": "String",
          "default": "chataigne"
        },
        "Password (MD5)": {
          "type": "String",
          "default": "e31b120e31610e45bcc5d7e1e5d00290",
        "description": "MD5 Hash of the user password set in grandMA2. (Default: chataigne)"
        }
      }
    },
    "Playbacks": {
      "type": "Container",
      "collapsed": false,
      "Request Playbacks": {
        "type": "Boolean",
        "default": true,
        "description": "Enable/Disable playback data request."
      },
      "Dynamic": {
        "type": "Container",
        "collapsed": false,
        "Active Page": {
          "type": "Integer",
          "default": 1,
        "description": "Active Page to request the dynamic elements from."
        },
        "Sync to MA2": {
        "type": "Boolean",
        "default": false
      },
        "Faders": {
          "description": "",
          "type": "String",
          "default": "1-5;6-15"
        },
        "Fader Intervall": {
          "type": "Float",
          "ui": "time",
          "min": 0.02,
          "default": 0.04
        },
        "Buttons": {
          "description": "",
          "type": "String",
          "default": "101-115"
        },
        "Button Intervall": {
          "type": "Float",
          "ui": "time",
          "min": 0.02,
          "default": 0.08
        }
      },
      "Static": {
        "type": "Container",
        "collapsed": false,
        "Faders": {
          "description": "",
          "type": "String",
          "default": ""
        },
        "Fader Intervall": {
          "type": "Float",
          "ui": "time",
          "min": 0.02,
          "default": 0.08
        },
        "Buttons": {
          "description": "",
          "type": "String",
          "default": "2.101-115;2.116-190"
        },
        "Button Intervall": {
          "type": "Float",
          "ui": "time",
          "min": 0.02,
          "default": 0.16
        }
      }
    }
  },

  "hideDefaultParameters": [
    "autoAdd",
    "protocol",
    "messageStructure",
    "firstValueIsTheName",
    "useSecureConnection",
    "customSeparator",
    "pass_through"
  ],

  "scripts": ["./grandMA2.js"],

  "values": {
    "Executors": {
      "type": "Container",
      "collapsed": true,
      "Active Page": {
        "type": "Container",
        "collapsed": true,
        "Page": {
        "type": "Integer",    
        "description": "Active Page number",
        "default": 1,
        "readOnly": true
          }
      }
    },
    
    "Internal": {
      "type": "Container",
      "collapsed": true,
      "realtime": {
        "type": "Boolean",
        "readOnly": true,
        "default": false
      },
      "forceLogin": {
        "type": "Boolean",
        "readOnly": true,
        "default": true,
        "description": ""
      },

      "worldIndex": {
        "type": "Integer",
        "readOnly": true,
        "default": 0
      },
      "prompt": {
        "type": "String",
        "readOnly": true,
        "default": ""
      },
      "promptcolor": {
        "type": "Color",
        "readOnly": true,
        "default": true,
        "description": ""
      },
      "commandHistory": {
        "type": "String",
        "readOnly": true,
        "default": ""
      },
      "status": {
        "type": "String",
        "readOnly": true,
        "default": ""
      },
      "appType": {
        "type": "String",
        "readOnly": true,
        "default": ""
      },
      "connetionsLimitReached": {
        "type": "Boolean",
        "readOnly": true,
        "default": false,
        "description": ""
      },
      "result": {
        "type": "Boolean",
        "readOnly": true,
        "default": false
      }
    }
  },
    "commands": {
      "Send Executor Value": {
        "menu": "Executors",
        "callback": "commandSetExecutorValue",
        "parameters": {
          "Use Active Page": {
            "type": "Boolean",
            "default": false,
            "description": "Use current Active Page istead of fixed page number."
          },
          "Page": {
            "type": "Integer",
             "min": 1,
            "max": 99999,
            "description": "Page of Executor to change",
            "default": 1,
            "dependency": {
                "source": "useActivePage",
                "value": false,
                "check": "equals",
                "action": "show"
            }
          },
          "Exec ID": {
            "type": "Integer",
             "min": 1,
            "max": 190,
            "description": "Number of Executor to change",
            "default": 1
          },
          "Value": {
            "type": "Float",
             "min": 0,
            "max": 1.0,
            "description": "Value to set Executor to."
          }
        }
      },
      "Send Executor Buttons": {
        "menu": "Executors",
        "callback": "commandSendExecutorButtons",
        "parameters": {
          "Use Active Page": {
            "type": "Boolean",
            "default": false,
            "description": "Use current Active Page istead of fixed page number."
          },
          "Page": {
            "type": "Integer",
             "min": 1,
            "max": 99999,
            "description": "Page of Executor to change",
            "default": 1,
            "dependency": {
                "source": "useActivePage",
                "value": false,
                "check": "equals",
                "action": "show"
            }
          },
          "Exec ID": {
            "type": "Integer",
             "min": 1,
            "max": 190,
            "description": "Number of Executor to change",
            "default": 1
          },
          "Type": {
          "type": "Enum",
          "options": {
              "Button": 0,
              "Lower": 1,
              "Upper": 2
            }
          },
          "State": {
            "type": "Boolean",
            "default": false,
            "description": "State to set Executor Button to."
          }
        }
      },
      "Change Executor Label": {
        "menu": "Executors",
        "callback": "commandSetLabel",
        "parameters": {
          "Use Active Page": {
            "type": "Boolean",
            "default": false,
            "description": "Use current Active Page istead of fixed page number."
          },
          "Page": {
            "type": "Integer",
             "min": 1,
            "max": 99999,
            "description": "Page of Executor to change",
            "default": 1,
            "dependency": {
                "source": "useActivePage",
                "value": false,
                "check": "equals",
                "action": "show"
            }
          },
          "Exec ID": {
            "type": "Integer",
             "min": 1,
            "max": 190,
            "description": "Number of Executor to change",
            "default": 1
          },
          "Label": {
            "type": "String",
            "description": "Label to set Executor to."
          }
        }
      },
      "Change Executor Color": {
        "menu": "Executors",
        "callback": "commandSetColor",
        "parameters": {
            "Use Active Page": {
            "type": "Boolean",
            "default": false,
            "description": "Use current Active Page istead of fixed page number."
          },
          "Page": {
            "type": "Integer",
             "min": 1,
            "max": 99999,
            "description": "Page of Executor to change",
            "default": 1,
            "dependency": {
                "source": "useActivePage",
                "value": false,
                "check": "equals",
                "action": "show"
            }
          },
          "Exec ID": {
            "type": "Integer",
             "min": 1,
            "max": 190,
            "description": "Number of Executor to change",
            "default": 1
          },
          "Color": {
            "type": "Color",
            "description": "Color to set Executor to."
          }
        }
      },
        "Send command": {
          "menu": "Console",
          "callback": "commandSendCMD",
          "parameters": {
            "Command": {
            "type": "String",
            "description": "Command to send."
        }
      }
    },
        "Change Page": {
          "menu": "Console",
          "callback": "commandChangePage",
          "parameters": {
            "Page": {
              "type": "Integer",
              "min": 1,
              "description": "Page to change to.",
              "default": 1
          }
      }
    },
        "Send HardKey": {
          "menu": "Console",
          "callback": "commandSendHardKey",
          "parameters": {
            "HardKey": {
            "type": "Enum",
            "options": {
            "Ch Pg +": 3,
            "Ch Pg -": 4,
            "Fd Pg +": 5,
            "Fd Pg -": 6,
            "Bt Pg +": 7,
            "Bt Pg ": 8,
            "Pause (Large)": 9,
            "Go - (Large)": 10,
            "Go + (Large)": 11,
            "X1": 12,
            "X2": 13,
            "X3": 14,
            "X4": 15,
            "X5": 16,
            "X6": 17,
            "X7": 18,
            "X8": 19,
            "X9": 20,
            "X10": 21,
            "X11": 22,
            "X12": 23,
            "X13": 24,
            "X14": 25,
            "X15": 26,
            "X16": 27,
            "X17": 28,
            "X18": 29,
            "X19": 30,
            "X20": 31,
            "List": 32,
            "User 1": 33,
            "User 2": 34,
            "U1": 36,
            "U2": 37,
            "U3": 38,
            "U4": 39,
            "Screen Action": 40,
            "Fix": 41,
            "Select": 42,
            "Off": 43,
            "Temp": 44,
            "Top": 45,
            "On": 46,
            "<<<": 47,
            "Learn": 48,
            ">>>": 49,
            "Go -": 50,
            "Pause": 51,
            "Go +": 52,
            "Oops": 53,
            "Esc": 54,
            "Edit": 55,
            "Goto": 56,
            "Update": 57,
            "Time": 58,
            "Store": 59,
            "Blind": 60,
            "Freeze": 61,
            "Preview": 62,
            "Assign": 63,
            "Align": 64,
            "Blackout": 65,
            "View": 66,
            "Effect": 67,
            "MA": 68,
            "Delete": 69,
            "Page": 70,
            "Macro": 71,
            "Preset": 72,
            "Copy": 73,
            "Sequence": 74,
            "Cue": 75,
            "Executor": 76,
            "Channel": 82,
            "Fixture": 83,
            "Group": 84,
            "Move": 85,
            "0": 86,
            "1": 87,
            "2": 88,
            "3": 89,
            "4": 90,
            "5": 91,
            "6": 92,
            "7": 93,
            "8": 94,
            "9": 95,
            "+": 96,
            "-": 97,
            ".": 98,
            "Full": 99,
            "Highlight": 100,
            "Solo": 101,
            "Thru": 102,
            "If": 103,
            "At": 104,
            "Clear": 105,
            "Please": 106,
            "Up": 107,
            "Set": 108,
            "Previous": 109,
            "Next": 110,
            "Down": 111,
            "Help": 116,
            "Backup": 117,
            "Setup": 118,
            "Tools": 119,
            "V1": 120,
            "V2": 121,
            "V3": 122,
            "V4": 123,
            "V5": 124,
            "V6": 125,
            "V7": 126,
            "V8": 127,
            "V9": 128,
            "V10": 129
            },
            "description": "HardKey to send."
        },
        "Pressed": {
          "type": "Boolean",
          "default": true,
          "description": "Press state to set."
        },
        "Hold": {
          "type": "Boolean",
          "default": false,
          "description": "Hold state to set."
        }
      }
    }
  }
}
